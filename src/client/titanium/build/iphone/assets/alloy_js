function ucfirst(e){return e?e[0].toUpperCase()+e.substr(1):e}function isTabletFallback(){return!(Math.min(Ti.Platform.displayCaps.platformHeight,Ti.Platform.displayCaps.platformWidth)<700)}var _=require("alloy/underscore")._,Backbone=require("alloy/backbone");exports._=_,exports.Backbone=Backbone,exports.M=function(e,t,n){var r=t.config,i=(r.adapter?r.adapter.type:null)||"localDefault";i==="localDefault"&&(i="sql");var s=require("alloy/sync/"+i),o={defaults:r.defaults,sync:function(e,t,n){var r=t.config||{},i=r.adapter||{},s=(r.adapter?r.adapter.type:null)||"localDefault";s==="localDefault"&&(s="sql"),require("alloy/sync/"+s).sync(t,e,n)}},u={};n&&(u.migrations=n),_.isFunction(s.beforeModelCreate)&&(r=s.beforeModelCreate(r,e)||r);var a=Backbone.Model.extend(o,u);return a.prototype.config=r,_.isFunction(t.extendModel)&&(a=t.extendModel(a)||a),_.isFunction(s.afterModelCreate)&&s.afterModelCreate(a,e),a},exports.C=function(e,t,n){var r={model:n,sync:function(e,t,n){var r=t.config||{},i=(r.adapter?r.adapter.type:null)||"localDefault";i==="localDefault"&&(i="sql"),require("alloy/sync/"+i).sync(t,e,n)}},i=Backbone.Collection.extend(r),s=i.prototype.config=n.prototype.config,o=(s.adapter?s.adapter.type:null)||"localDefault",u=require("alloy/sync/"+o);return _.isFunction(u.afterCollectionCreate)&&u.afterCollectionCreate(i),_.isFunction(t.extendCollection)&&(i=t.extendCollection(i)||i),i},exports.A=function(e,t,n){return _.extend(e,Backbone.Events),function(){var t=e.addEventListener,n=e.removeEventListener,r=e.on,i=e.off,s=e.trigger,o={},u=_.extend({},Backbone.Events);if(!t||!n)return;e.trigger=function(){u.trigger.apply(u,Array.prototype.slice.apply(arguments))},e.on=function(e,n,i){var a=function(t){try{_.bind(s,u,e,t)()}catch(n){Ti.API.error("Error triggering '"+e+"' event: "+n)}};o[e]||(o[e]={},t(e,a)),o[e][n]=a,_.bind(r,u,e,n,i)()},e.off=function(e,t,r){var s=o[e]?o[e][t]:null;s&&(_.bind(i,u,e,t,r)(),delete o[e][t],o[e].length===0&&(delete o[e],n(e,s)),s=null)}}(),e},exports.getWidget=function(e,t,n){return Ti.API.warn("Alloy.getWidget() is deprecated, use Alloy.createWidget() instead."),Ti.API.warn("Alloy.getWidget() will be removed in Alloy 0.4.0"),exports.createWidget(e,t,n)},exports.createWidget=function(e,t,n){return new(require("alloy/widgets/"+e+"/controllers/"+(t||"widget")))(n)},exports.getController=function(e,t){return Ti.API.warn("Alloy.getController() is deprecated, use Alloy.createController() instead."),Ti.API.warn("Alloy.getController() will be removed in Alloy 0.4.0"),exports.createController(e,t)},exports.createController=function(e,t){return new(require("alloy/controllers/"+e))(t)},exports.getModel=function(e,t){return Ti.API.warn("Alloy.getModel() is deprecated, use Alloy.createModel() instead."),Ti.API.warn("Alloy.getModel() will be removed in Alloy 0.4.0"),exports.createModel(e,t)},exports.createModel=function(e,t){return new(require("alloy/models/"+ucfirst(e)).Model)(t)},exports.getCollection=function(e,t){return Ti.API.warn("Alloy.getCollection() is deprecated, use Alloy.createCollection() instead."),Ti.API.warn("Alloy.getCollection() will be removed in Alloy 0.4.0"),exports.createCollection(e,t)},exports.createCollection=function(e,t){return new(require("alloy/models/"+ucfirst(e)).Collection)(t)},exports.isTablet=function(){return Ti.Platform.osname==="ipad"}(),exports.isHandheld=!exports.isTablet,exports.globals={},exports.Globals={},exports.Models={},exports.Models.instance=function(e){return exports.Models[e]||(exports.Models[e]=exports.createModel(e))},exports.Collections={},exports.Collections.instance=function(e){return exports.Collections[e]||(exports.Collections[e]=exports.createCollection(e))},exports.CFG=require("alloy/CFG"),exports.version="0.3.6"